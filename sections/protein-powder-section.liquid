{% comment %}
  Protein Powder Section - Customized Protein Powder
{% endcomment %}

<section class="protein-powder-section">
  <div class="container">
    <!-- Title and Subtitle above the card -->
    <div class="section-header">
      <div class="section-header-inner">
        <span class="section-subtitle">{{ section.settings.subheading }}</span>
        <span class="section-main-heading">{{ section.settings.heading }}</span>
      </div>
    </div>
    <div class="protein-powder-wrapper">
      <!-- Left Arrow outside the card, vertically centered to the container -->
      <button class="nav-arrow global-prev" title="Previous" aria-label="Previous">
        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>
      </button>
      <div class="protein-powder-container">
        <!-- Left Product Image -->
        <div class="product-image-column">
          <div class="product-image-carousel">
            {% for block in section.blocks %}
              {% if block.type == 'image' %}
                <div class="product-image" {{ block.shopify_attributes }} style="display: {% if forloop.first %}block{% else %}none{% endif %};">
                  {% if block.settings.image %}
                    {{ block.settings.image | image_url: width: 356 | image_tag: loading: 'lazy', alt: section.settings.heading }}
                  {% else %}
                    <img src="{{ 'placeholder.svg' | asset_url }}" loading="lazy" alt="Protein powder package placeholder" />
                  {% endif %}
                </div>
              {% endif %}
            {% endfor %}
          </div>
        </div>
        <!-- Right Card: Blend, Features, Ingredients, Button -->
        <div class="product-info-column">
          <div class="blend-section">
            <h3 class="card-title">{{ section.settings.card_title }}</h3>
            <div class="feature-list">
              {% for block in section.blocks %}
                {% if block.type == 'feature' %}
                  <div class="feature-item" {{ block.shopify_attributes }}>
                    {% if section.settings.icon_leaf %}
                      {{ section.settings.icon_leaf | image_url: width: 24 | image_tag: loading: 'lazy', alt: 'Feature Icon', class: 'feature-icon' }}
                    {% else %}
                      <svg class="feature-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 20A7 7 0 0 1 9 13l-5-5A7 7 0 0 1 11 1v19z"></path><path d="M11 20h9"></path></svg>
                    {% endif %}
                    <span>{{ block.settings.feature_text }}</span>
                  </div>
                {% endif %}
              {% endfor %}
            </div>
          </div>
          <div class="details-body">
            <h4 class="ingredients-title">{{ section.settings.ingredients_title }}</h4>
            <div class="ingredients-grid">
              {% for block in section.blocks %}
                {% if block.type == 'ingredient' %}
                  <div class="ingredient-item" {{ block.shopify_attributes }}>
                    <div class="ingredient-header">
                      {% if section.settings.icon_leaf %}
                        {{ section.settings.icon_leaf | image_url: width: 24 | image_tag: loading: 'lazy', alt: 'Ingredient Icon' }}
                      {% else %}
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#666" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 20A7 7 0 0 1 9 13l-5-5A7 7 0 0 1 11 1v19z"></path><path d="M11 20h9"></path></svg>
                      {% endif %}
                      <h5>{{ block.settings.ingredient_name }}</h5>
                    </div>
                    <p>{{ block.settings.ingredient_description }}</p>
                  </div>
                {% endif %}
              {% endfor %}
            </div>
            <button class="customize-button">{{ section.settings.button_text }}</button>
          </div>
        </div>
      </div>
      <!-- Right Arrow outside the card, vertically centered to the container -->
      <button class="nav-arrow global-next" title="Next" aria-label="Next">
        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
      </button>
    </div>
  </div>
  <style>
    .protein-powder-section {
      background-color: #f7f7f7;
      padding: 3.5rem 0 2rem 0;
      min-height: 100vh;
    }
    .container {
      max-width: 1599x;
      height: 834;
      top: 4942px;
      margin: 0 auto;
      padding: 0 2rem;
      display: flex;
      flex-direction: column;
      align-items: stretch;




    }
    .section-header {
      width: 100%;
      margin-bottom: 1.5rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
    }
    .section-header-inner {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      width: 100%;
    }
    .section-subtitle {
      font-family: 'Rubik', sans-serif;
      font-weight: 400;
      font-size: 16px;
      line-height: 100%;
      letter-spacing: 0;
      color: #000000;
      text-align: center;
      margin: 0 auto;
      margin-bottom: 8px;
      display: block;
      width: auto;
      max-width: 100%;
    }
    .section-main-heading {
      font-family: 'Rubik', sans-serif;
      font-weight: 500;
      font-size: 40px;
      line-height: 100%;
      letter-spacing: 0;
      color: #1B1F23;
      text-align: center;
      display: block;
      margin: 0 auto;
      width: auto;
      max-width: 100%;
    }
    @media (max-width: 600px) {
      .section-main-heading {
        font-size: 28px;
        width: auto;
        max-width: 95vw;
      }
      .section-subtitle {
        font-size: 13px;
        width: auto;
        max-width: 95vw;
      }
    }
    .protein-powder-wrapper {
      width: 100%;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      flex: 1 1 auto;
      position: relative;
      min-height: 520px;
    }
    .protein-powder-container {
      display: flex;
      flex-direction: row;
      width: 100%;
      max-width: 1200px;
      min-height: 420px;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 16px 0 rgba(56, 56, 56, 0.08);
      align-items: stretch;
      position: relative;
      margin-top: 1.2rem;
      margin-bottom: 2rem;
      z-index: 2;
    }
    .product-image-column {
      flex: 0 0 49%;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 2rem 0;
      min-width: 320px;
      min-height: 380px;
      border-right: 1px solid #ededed;
      background: #fff;
      position: relative;
      z-index: 2;
    }
    .product-image-carousel {
      text-align: center;
      width: 100%;
    }
    .product-image img {
      width: 260px;
      height: 320px;
      object-fit: contain;
      margin: 0 auto;
      display: block;
    }
    .product-info-column {
      flex: 0 0 51%;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: stretch;
      min-width: 400px;
      padding: 0;
      z-index: 2;
    }
    .blend-section {
      background-color: #181b1f;
      border-top-right-radius: 12px;
      border-top-left-radius: 0;
      border-bottom-right-radius: 0;
      border-bottom-left-radius: 0;
      padding: 1.5rem 1rem 1.5rem 1rem;
      text-align: center;
      width: 100%;
      min-height: 90px;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }
    .card-title {
      font-size: 1.3rem;
      font-weight: 600;
      color: #fff;
      margin-top: 0;
      margin-bottom: 1.1rem;
      letter-spacing: 0.04em;
    }
    .feature-list {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 2.5rem;
      margin-bottom: 0;
      width: 100%;
    }
    .feature-item {
      display: flex;
      align-items: center;
      gap: 0.6rem;
      font-size: 1.04rem;
      color: #fff;
      font-weight: 500;
      opacity: 1;
      transition: background 0.2s;
      background: rgba(255,255,255,0.05);
      border-radius: 16px;
      padding: 0.3rem 1.1rem;
    }
    .feature-icon {
      width: 24px;
      height: 24px;
      filter: brightness(0) invert(1);
    }
    .details-body {
      padding: 2.3rem 2rem 1.6rem 2rem;
      background-color: #fff;
      border-bottom-right-radius: 12px;
      border-bottom-left-radius: 0;
      text-align: center;
      flex: 1 1 auto;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: stretch;
    }
    .ingredients-title {
      font-size: 1.08rem;
      font-weight: 700;
      color: #23272c;
      margin-top: 0;
      margin-bottom: 1.8rem;
      text-align: left;
      letter-spacing: 0.04em;
    }
    .ingredients-grid {
      display: flex;
      flex-direction: row;
      justify-content: center;
      align-items: stretch;
      gap: 2.2rem;
      margin-bottom: 2rem;
    }
    .ingredient-item {
      text-align: center;
      display: flex;
      flex-direction: column;
      gap: 0.55rem;
      width: 100%;
      max-width: 220px;
      align-items: center;
      background: none;
      border-radius: 10px;
      padding: 0.5rem 0.8rem 0.8rem 0.8rem;
    }
    .ingredient-header {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.5rem;
    }
    .ingredient-header h5 {
      font-size: 1.01rem;
      font-weight: 700;
      color: #23272c;
      margin: 0;
    }
    .ingredient-item p {
      font-size: 0.96rem;
      color: #6c757d;
      margin: 0;
      line-height: 1.5;
    }
    .customize-button {
      background-color: #181b1f;
      color: #fff;
      padding: 0.85rem 1.5rem;
      border: none;
      border-radius: 9px;
      font-weight: 600;
      cursor: pointer;
      font-size: 1.08rem;
      margin: 0 auto;
      width: 100%;
      max-width: 340px;
      transition: all 0.2s;
      box-shadow: 0 1px 4px 0 rgba(60,60,60,0.08);
      letter-spacing: 0.04em;
    }
    .customize-button:hover {
      background-color: #23272c;
    }
    /* Navigation Arrows - outside card, vertically centered to wrapper */
    .nav-arrow {
      background: #fff;
      border: 1px solid #eee;
      cursor: pointer;
      color: #939393;
      border-radius: 7px;
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      transition: color 0.2s, background 0.2s, border 0.2s;
      z-index: 4;
      box-shadow: 0 2px 8px 0 rgba(80,80,80,0.06);
      width: 36px;
      height: 36px;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .nav-arrow:hover {
      color: #23272c;
      border: 1.5px solid #c9c9c9;
      background: #f4f4f4;
    }
    .nav-arrow.global-prev {
      left: -32px;
    }
    .nav-arrow.global-next {
      right: -32px;
    }
    /* Responsive Adjustments */
    @media (max-width: 1200px) {
      .protein-powder-container {
        max-width: 95vw;
      }
      .product-info-column, .product-image-column {
        min-width: 220px;
      }
    }
    @media (max-width: 900px) {
      .protein-powder-container {
        flex-direction: column;
        min-height: 0;
        height: auto;
      }
      .product-image-column,
      .product-info-column {
        flex: 1 1 100%;
        min-width: 100%;
        border-right: none;
      }
      .product-image-column {
        border-bottom: 1px solid #ededed;
      }
      .nav-arrow {
        left: 10px;
        right: 10px;
        top: unset;
        bottom: -24px;
        transform: none;
      }
      .nav-arrow.global-prev {
        left: 10px;
        right: unset;
        top: unset;
        bottom: -24px;
      }
      .nav-arrow.global-next {
        right: 10px;
        left: unset;
        top: unset;
        bottom: -24px;
      }
    }
    @media (max-width: 700px) {
      .container {
        padding: 0 0.4rem;
      }
      .section-header-inner {
        width: 100%;
      }
      .section-main-heading { 
        font-size: 1.7rem; 
        width: auto; 
        max-width: 95vw; 
      }
      .section-subtitle { 
        font-size: 13px; 
        width: auto; 
        max-width: 95vw; 
      }
      .feature-list { gap: 1.1rem; }
      .blend-section, .details-body { padding: 1.1rem 0.6rem; }
      .ingredients-grid { flex-direction: column; gap: 1.8rem; }
      .ingredient-item { max-width: 99vw; }
      .nav-arrow { display: none; }
    }
  </style>
</section>

{% schema %}
{
  "name": "Protein Powder Section",
  "settings": [
    {
      "type": "text",
      "id": "subheading",
      "label": "Subheading",
      "default": "Simple & Effective Ingredients"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Customized Protein Powder"
    },
    {
      "type": "text",
      "id": "card_title",
      "label": "Card Title (e.g., The Blend)",
      "default": "The Blend"
    },
    {
      "type": "text",
      "id": "ingredients_title",
      "label": "Ingredients Title",
      "default": "Active Ingredients"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text",
      "default": "Customize This Blend"
    },
    {
      "type": "image_picker",
      "id": "icon_leaf",
      "label": "Feature/Ingredient Icon",
      "info": "Upload a custom icon for features and ingredients (recommended size: 24x24px)."
    }
  ],
  "blocks": [
    {
      "name": "Image",
      "type": "image",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        }
      ]
    },
    {
      "name": "Feature",
      "type": "feature",
      "settings": [
        {
          "type": "text",
          "id": "feature_text",
          "label": "Feature Text",
          "default": "Whey Based"
        }
      ]
    },
    {
      "name": "Ingredient",
      "type": "ingredient",
      "settings": [
        {
          "type": "text",
          "id": "ingredient_name",
          "label": "Ingredient Name",
          "default": "Whey Protein Isolate"
        },
        {
          "type": "textarea",
          "id": "ingredient_description",
          "label": "Ingredient Description",
          "default": "Low Calorie With Virtually No Fat or Lactose, Quickly Absorbed To Maximize Muscle Building & Repair."
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Protein Powder Section",
      "category": "Custom Content",
      "blocks": [
        { "type": "image" },
        { "type": "feature", "settings": { "feature_text": "Whey Based" }},
        { "type": "feature", "settings": { "feature_text": "Build Muscle" }},
        { "type": "feature", "settings": { "feature_text": "Clean Ingredients" }},
        { "type": "ingredient" },
        { "type": "ingredient" },
        { "type": "ingredient" }
      ]
    }
  ]
}
{% endschema %}